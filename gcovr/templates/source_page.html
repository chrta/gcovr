{% extends "base.html" %}

{% block content %}
      <div class="summary">
	<div class="legend">
          <table cellpadding=1 border=0 width="100%">
            <tr>
              <td width="10%" class="headerName">Directory:</td>
              <td width="35%" class="headerValue">{{info.get_directory()}}</td>
            </tr>
            <tr>
              <td class="headerName">File:</td>
              <td class="headerValue">{{filename}}</td>
            <tr>
	    <tr>
              <td class="headerName">Date:</td>
              <td class="headerValue">{{info.date}}</td>
            <tr>
	  </table>
	</div>
	<div class="coverage">
          <table cellpadding=1 border=0 width="100%">
            <tr>
              <td width="30%"></td>
              <td width="20%" class="headerValue" style="text-align:right;">Exec</td>
              <td width="20%" class="headerValue" style="text-align:right;">Total</td>
              <td width="30%" class="headerValue" style="text-align:right;">Coverage</td>
	    </tr>
	    <tr>
	      <td class="headerName">Lines:</td>
              <td class="headerTableEntry">{{lines.exec}}</td>
              <td class="headerTableEntry">{{lines.total}}</td>
              <td class="headerTableEntry {{lines.class}}">{{lines.coverage}} %</td>
            </tr>
	    <tr>
	      <td class="headerName">Branches:</td>
              <td class="headerTableEntry">{{branches.exec}}</td>
              <td class="headerTableEntry">{{branches.total}}</td>
              <td class="headerTableEntry {{branches.class}}">{{branches.coverage}} %</td>
            </tr>
	  </table>
	</div>
      </div>
      
      <div class="hr"></div>

      <div class="file-source">
	<table cellspacing="0" cellpadding="1">
	  <tr>
	    <td width="5%" align="right" class="srcHeader">Line</td>
	    <td width="5%" align="right" class="srcHeader">Branch</td>
	    <td width="5%" align="right" class="srcHeader">Exec</td>
	    <td width="75%" align="left" class="srcHeader src">Source</td>
	  </tr>

	  {% for row in source_lines %}

	  <tr class="source-line">
	    <td class="lineno">{{row.lineno}}</td>
	    <td class="linebranch">
	      {%- for branch in row.linebranch -%}
	      <span class="{{branch.class}}" title="{{branch.message}}">{{branch.symbol}}</span>
	      {%- if branch.wrap %}<br/>{% endif -%}
	      {%- endfor -%}
	    </td>
	    <td class="linecount {{row.covclass}}">{{row.linecount}}</td>
	    <td class="src {{row.covclass}}">{{row.source}}</td>
	  </tr>
	  {% endfor %}

	</table>
      </div>
{% endblock %}
